<template>
  <div class="home" id="home">
    <Navigate />
    <div class="home_content">
      <div class="home_content_1" id="home_content_1">
        <div class="home_content_1_1">
          <div class="home_content_1_1_1">ä¸ªäººåšå®¢</div>
          <div class="home_content_1_1_2">
            <div class="home_content_1_1_2_1">{{ tagline }}</div>
            <div class="home_content_1_1_2_2">|</div>
          </div>
        </div>
        <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/xx.png" class="home_content_1_2" @click="scrollNext" />
      </div>
      <div class="home_content_2">
        <div class="home_content_2_1">
          <div class="home_content_2_1_1">
            <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/xinxi.png" class="home_content_2_1_1_1" />
            <div class="home_content_2_1_1_2">
              <div class="home_content_2_1_1_2_1" :style="`transform: translateY(${sayTranslateY}px);transition: all ${sayTime}s;`">
                <div class="home_content_2_1_1_2_1_1" v-for="(item, index) in say" :key="index">{{ item }}</div>
              </div>
            </div>
            <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/yjt.png" class="home_content_2_1_1_3" />
          </div>
          <div class="home_content_2_1_2">
            <div class="home_content_2_1_2_1">
              <div class="home_content_2_1_2_1_1">
                <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/wz.png" class="home_content_2_1_2_1_1_1" />
              </div>
              <div class="home_content_2_1_2_1_2">
                <div class="home_content_2_1_2_1_2_1">æ ‡é¢˜</div>
                <div class="home_content_2_1_2_1_2_2">
                  <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/rq.png" class="home_content_2_1_2_1_2_2_1" />
                  <div class="home_content_2_1_2_1_2_2_2">2022-03-04</div>
                </div>
                <div class="home_content_2_1_2_1_2_3">è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–‡ç« å†…å®¹</div>
              </div>
            </div>
          </div>
        </div>
        <div class="home_content_2_2">
          <div class="home_content_2_2_1">
            <div class="home_content_2_2_1_1">
              <img src="https://www.äººæ´»ç€å°±æ˜¯ä¸ºäº†éº»è¡£å­¦å§.com/pic/tx.png" class="home_content_2_2_1_1_1" />
            </div>
            <div class="home_content_2_2_1_2">è·æœˆThirty</div>
            <div class="home_content_2_2_1_3">å°å¿ƒäºŒæ¬¡å…ƒğŸ‡</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import Navigate from '@components/navigate/Navigate';
export default {
  data() {
    return {
      /* webå®½åº¦ */ webWidth: '',
      /* webé«˜åº¦ */ webHeight: '',
      /* æ ‡è¯­ */ tagline: 'é†‰åä¸çŸ¥å¤©åœ¨æ°´ï¼Œæ»¡èˆ¹æ¸…æ¢¦å‹æ˜Ÿæ²³ã€‚',
      /* è¯´è¯´ */ say: ['é£å°†ä¸€çº¸æƒ…ä¹¦å¯„ç»™äº†æˆ‘ğŸ', 'æ¯ä¸€é¢—çœ¼æ³ªæ˜¯ä¸€ä¸‡é“å…‰ğŸ‡'],
      /* è¯´è¯´Yåç§»å€¼ */ sayTranslateY: 0,
      /* è¯´è¯´æ•ˆæœå»¶è¿Ÿæ—¶é—´ */ sayTime: 0.5,
    };
  },
  methods: {
    /* æ»šåŠ¨è‡³ä¸‹ä¸€é¡¹ */ scrollNext() {
      // ? è·å–èƒŒæ™¯é«˜åº¦çš„1/15
      let webHeightNum = this.webHeight / 300;
      // ? æ¯æ¬¡æ»šåŠ¨çš„è·ç¦»
      let distance = 0;
      // ? æ‰§è¡Œ15æ¬¡
      let heightInterval = setInterval(() => {
        // ? ç´¯åŠ æ¯æ¬¡æ»šåŠ¨çš„è·ç¦»
        distance += webHeightNum;
        window.scrollTo(0, distance);
      }, 5);
      // ? 1500msåç»“æŸ
      setTimeout(() => {
        clearInterval(heightInterval);
      }, 1515);
    },
    /* æ»šåŠ¨è¯´è¯´ */ scrollSay() {
      // ? æ•°ç»„ç´¯åŠ æˆä¸¤ä»½
      this.say = this.say.concat(this.say);
      // ? å¤åˆ¶æ€»åç§»é«˜åº¦
      let countHeight = this.say.length * 25;
      // ? æ¯è¿‡1500msæ£€æŸ¥ä¸€æ¬¡å½“å‰ä½ç½®
      setInterval(() => {
        // ? å¦‚æœå½“å‰Yä½ç½®==æ€»é«˜åº¦çš„ä¸€åŠ
        if (this.sayTranslateY == -(countHeight / 2)) {
          // ? åŠ¨ç”»æ—¶é—´=0
          this.sayTime = 0;
          // ? Yè½´æ¢å¤0
          this.sayTranslateY = 0;
        }
      }, 1500);
      // ? æ¯è¿‡3000msæ‰§è¡Œä¸€æ¬¡åç§»
      setInterval(() => {
        // ? å¤åˆ¶åŠ¨ç”»æ—¶é—´
        this.sayTime = 0.5;
        // ? å¤åˆ¶Yè½´åç§»
        this.sayTranslateY -= 25;
      }, 3000);
    },
    /* ç”Ÿæˆæ ‡è¯­ */ generateTagline() {
      // ? å­—ç¬¦ä¸²åˆ†å‰²æ•°ç»„
      let stringArray = this.tagline.split('');
      // ? é¡µé¢å±•ç¤ºçš„å­—ç¬¦ä¸²èµ‹å€¼å®Œæˆåæ¸…ç©º
      this.tagline = '';
      // ? å¾ªç¯å¤„ç†
      stringArray.forEach((item, index) => {
        // ? æ¯æ¬¡å»¶è¿ŸX*300ms
        setTimeout(() => {
          //? é¡µé¢å±•ç¤ºçš„å­—ç¬¦ä¸²æ¯æ¬¡æ‹¼æ¥
          this.tagline += item;
        }, index * 300);
      });
    },
    /* ç›‘å¬webçª—å£å˜åŒ– */ onresize() {
      window.onresize = () => {
        this.getWebpage();
      };
    },
    /* è·å–webå¯è§†åŒ–å®½é«˜ */ getWebpage() {
      // ? webå¯è§†åŒ–å®½åº¦
      this.webWidth = window.innerWidth;
      // ? webå¯è§†åŒ–é«˜åº¦
      this.webHeight = window.innerHeight;
      // ? å¤„ç†èƒŒæ™¯å§‹ç»ˆ=å½“å‰webå¯è§†åŒ–å¤§å°
      let content1 = document.getElementById('home_content_1');
      content1.style.width = `${this.webWidth}px`;
      content1.style.height = `${this.webHeight}px`;
    },
  },
  mounted() {
    // * æ»šåŠ¨è¯´è¯´
    this.scrollSay();
    // * ç”Ÿæˆæ ‡è¯­
    this.generateTagline();
    // * ç›‘å¬webçª—å£å˜åŒ–
    this.onresize();
    // * è·å–webå¯è§†åŒ–å®½é«˜
    this.getWebpage();
  },
  components: { Navigate },
};
</script>

<style lang="scss" scoped>
@import './home.scss';
</style>
